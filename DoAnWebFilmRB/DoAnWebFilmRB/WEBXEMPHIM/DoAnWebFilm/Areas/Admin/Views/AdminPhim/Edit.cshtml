@model DoAnWebFilm.Models.PHIM
@{
    ViewBag.Title = "Edit";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

@using (Html.BeginForm("Edit", "AdminPhim", FormMethod.Post, new { @enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal m-4">
        <h2 class="text-danger">Sửa Phim</h2>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.ID_PHIM)

        <div class="form-group">
            <div class="col-md-10">
                <h5>TÊN PHIM: </h5>
                @Html.EditorFor(model => model.TEN_PHIM, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.TEN_PHIM, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <h5>IMAGE PHIM: </h5>
                @Html.EditorFor(model => model.IMAGE_PHIM, new { htmlAttributes = new { @class = "form-control" } })
                <input type="file" name="fileUpload" class="form-control" />
                @Html.ValidationMessageFor(model => model.IMAGE_PHIM, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <h5>LINK PHIM: </h5>
                @Html.EditorFor(model => model.LINK_PHIM, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.LINK_PHIM, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">        
            <div class="col-md-10">
                <h5>MÔ TẢ: </h5>
                @Html.EditorFor(model => model.MOTA, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.MOTA, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <h5>TRẠNG THÁI: </h5>
                @Html.DropDownList("ID_TRANGTHAI", null, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <h5>QUỐC GIA: </h5>
                @Html.DropDownList("ID_QG", null, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <h5>NĂM PHÁT HÀNH: </h5>
                @Html.DropDownList("ID_NAM", null, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <h5>DIỄN VIÊN: </h5>
                @{
                    var indexs = 0;
                }
                @foreach (var phim in ViewBag.ID_DV)
                {
                    <span class="me-3">
                        <input id="@phim.ID_DV" type="checkbox" name="PHIM_DVs[@(indexs)].ID_DV" value="@phim.ID_DV" />
                        <label for="@phim.ID_DV">
                            @phim.TEN_DV
                        </label>
                    </span>
                    indexs++;
                }
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <h5>LOẠI: </h5>
                @{
                    var index = 0;
                }
                @foreach (var phim in ViewBag.IDLOAI)
                {
                    <span class="me-3">
                        <input id="@phim.IDLOAI" type="checkbox" name="CHITIETLOAIs[@(index)].IDLOAI" value="@phim.IDLOAI" />
                        <label for="@phim.IDLOAI">
                            @phim.TENLOAI
                        </label>
                    </span>
                    index++;
                }
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-warning" />
            </div>
        </div>  
        <div>
            @Html.ActionLink("Back to List", "Index")
        </div>
    </div>
}

